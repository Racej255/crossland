<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="page-title">House Crossland - The Yeoman's End</title>
  <!-- Link to your existing stylesheet -->
  <link rel="stylesheet" href="style.css"> <!-- Make sure your styles are in a separate style.css file -->
</head>
<body>
  <header>
    <img src="House_emblem.png" alt="House Crossland Emblem" class="logo">
    <div>
      <h1 id="header-title"></h1>
      <p id="header-subtitle"></p>
    </div>
  </header>
  
  <main>
    <div class="content">
      <section id="about">
        <h2>Who We Are</h2>
        <div class="quote">
          <blockquote id="main-quote-text"></blockquote>
          <cite id="main-quote-author"></cite>
        </div>
        <!-- other static content -->
      </section>
      
      <section id="members">
        <h2>Our Members</h2>
        <div class="member-list" id="member-list">
          <!-- Member cards will be injected here by JavaScript -->
        </div>
        <h3>Crossland's we've loved and lost</h3>
        <div class="member-list" id="past-member-list">
          <!-- Past member cards will be injected here -->
        </div>
      </section>

      <section id="history">
        <h2>Our History</h2>
        <div class="history-toggle" onclick="toggleHistory()">Read Our Full History</div>
        <div class="history-content" id="history-content">
          <!-- History will be injected here -->
        </div>
      </section>
       <!-- ... other static sections ... -->
    </div>
    
    <aside>
      <div class="sidebar-box upcoming-events">
        <h3>Upcoming Events</h3>
        <div id="events-list">
          <!-- Events will be injected here -->
        </div>
      </div>
       <!-- ... other static sidebar boxes ... -->
    </aside>
  </main>
  
  <footer>
      <!-- ... your footer content ... -->
  </footer>

  <!-- JS libraries -->
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  
  <!-- Custom script to load content -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Fetch and render content for the homepage
      fetch('/_data/home.yml')
        .then(response => response.text())
        .then(text => {
          const data = jsyaml.load(text);
          
          // Populate header
          document.getElementById('header-title').textContent = data.title;
          document.getElementById('header-subtitle').textContent = data.subtitle;
          document.title = data.title + " - The Yeoman's End";

          // Populate quote
          document.getElementById('main-quote-text').textContent = data.quote;
          document.getElementById('main-quote-author').textContent = `â€” ${data.quote_author}`;

          // Populate members
          const memberList = document.getElementById('member-list');
          memberList.innerHTML = data.members.map(member => `
            <div class="member-card">
              <img src="${member.image}" alt="${member.name}">
              <div class="member-info">
                <h4>${member.name}</h4>
                <p>${member.title}</p>
                <p>${member.role}</p>
              </div>
            </div>
          `).join('');
          
          // Populate past members
          const pastMemberList = document.getElementById('past-member-list');
          pastMemberList.innerHTML = data.past_members.map(member => `
            <div class="member-card">
              <img src="${member.image}" alt="${member.name}">
              <div class="member-info">
                <h4>${member.name}</h4>
                <p>${member.title}</p>
                <p>${member.status}</p>
              </div>
            </div>
          `).join('');
          
          // Populate events
          const eventsList = document.getElementById('events-list');
          eventsList.innerHTML = data.events.map(event => `
            <div>
              <div class="event-date">${event.date}</div>
              <p>${event.description}</p>
            </div>
          `).join('');

          // Populate history
          document.getElementById('history-content').innerHTML = marked.parse(data.history);
        })
        .catch(error => console.error('Error loading homepage content:', error));
    });

    function toggleHistory() {
      const historyContent = document.getElementById('history-content');
      historyContent.style.display = historyContent.style.display === 'block' ? 'none' : 'block';
    }
  </script>
</body>
</html>
